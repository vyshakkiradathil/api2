"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{25747:function(Ue,w,s){var n=s(32735),ee=s(72850),h=s(69262),Te=s(32031),S=s(73779),X=s(35071),_=s(1176),De=s(88675),Be=s(15431),tt=s(22348),_e=s(7184),Fe=s(43475),Ne=s(872),nt=s(89135),Ke=s(82512),Ee=s(61642),at=s(58656),re=s(83218),$e=s(17757),c=s(60216),je=s.n(c),We=s(8471);const de={biginteger:Te.Z,boolean:S.Z,collectionType:X.Z,component:_.Z,contentType:X.Z,date:De.Z,datetime:De.Z,decimal:Te.Z,dynamiczone:Be.Z,email:tt.Z,enum:_e.Z,enumeration:_e.Z,file:Fe.Z,files:Fe.Z,float:Te.Z,integer:Te.Z,json:Ne.Z,JSON:Ne.Z,media:Fe.Z,number:Te.Z,password:nt.Z,relation:Ke.Z,richtext:Ee.Z,singleType:at.Z,string:re.Z,text:re.Z,time:De.Z,timestamp:De.Z,uid:$e.Z},Ce=(0,We.ZP)(ee.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,K=({type:st,customField:ze,...Zt})=>{const ot=(0,h.mZ)();let qe=de[st];if(ze){const{icon:T}=ot.get(ze);T&&(qe=T)}return de[st]?n.createElement(Ce,{height:(0,h.Q1)(24),width:(0,h.Q1)(32),shrink:0,...Zt,"aria-hidden":!0},n.createElement(ee.x,{as:qe})):null};K.defaultProps={customField:null},K.propTypes={type:je().string.isRequired,customField:je().string},w.Z=K},31753:function(Ue,w,s){s.d(w,{c:function(){return Un}});var n=s(55805),ee=s(31206),h=s(97075),Te=s(14949),S=s(29439),X=s(8482),_=s(65261),De=s(55877),Be=s(84298),tt=s(73906),_e=s(37272),Fe=s(67121),Ne=s(39869),nt=s(35635),Ke=s(26366),Ee=s(98464),at=s(2362),re=s(89992),$e=s(10473),c=s(95971),je=s(66456),We=s(72536),de=s(68312),Ce=s(80601),K=s(45112),st=s(74464),ze=s(70809),Zt=s(98148),ot=s(81424),qe=s(69317),T=s(25789),zt=s(77359),qt=s(50416),Vt=s(20015),Ot=s(20276),kt=s(82068),Gt=s(41645),Ht=s(61294),t=s(65943),Re=s(8606),Yt=s(7961),Qt=s(92967),Ae=s(18070),Xt=s(54894),Pt=s(30285),Dt=s(96011),U=s(47041),Le=s(60625),it=s(5644),Ie=s(78150),Jt=s(63717),k=s(24609),wt=s(86543),en=s(62864),tn=s(92989),At=s(49886),fa=s(47052),Lt=s(50694),ya=s(81875),rt=s(92323),It=s(49844),nn=s(11631),lt=s(9254),an=s(2669),z=s(18709),dt=s(20258),ct=s(43231),Ve=s(45147),ke=s(23154),Ze=s(26253),Ea=s(79634),xt=s(32548),ut=s(99482),sn=s(45323),va=s(76994),St=s(88777),Ut=s(95703),on=s(8981),rn=s(7733),Bt=s(10168),ln=s(25449),dn=s(83900),cn=s(32645),un=s(78429),mn=s(68625),pn=s(9882),gn=s(11417),ha=s(39698),fn=s(92168),Ma=s(69621),yn=s(2438),Ft=s(19406),En=s(92254),Ge=s(2287),He=s(29685),mt=s(65663),vn=s(5502),Wt=s(31047),hn=s(93307),pt=s(78055),gt=s(51239),_t=s(6792),Mn=s(75156),ft=s(80683),yt=s(2689),bn=s(40202),Et=s(36919),Tn=s(75444),Nt=s(92003),Cn=s(4511),vt=s(2847),Rn=s(83139),ht=s(53779),Zn=s(72890),Kt=s(84411),On=s(37193),Pn=s(74831),Mt=s(99221),Dn=s(34119),ba=s(99283),An=s(21371),bt=s(70727),Ln=s(42213),In=s(8611),xn=s(20448),Sn=s(73165);const Un={alien:n.Z,apps:ee.Z,archive:h.Z,arrowDown:Te.Z,arrowLeft:S.Z,arrowRight:X.Z,arrowUp:_.Z,attachment:De.Z,bell:Be.Z,bold:tt.Z,book:_e.Z,briefcase:Fe.Z,brush:Ne.Z,bulletList:nt.Z,calendar:Ke.Z,car:Ee.Z,cast:at.Z,chartBubble:re.Z,chartCircle:$e.Z,chartPie:c.Z,check:je.Z,clock:We.Z,cloud:de.Z,code:Ce.Z,cog:K.Z,collapse:st.Z,command:ze.Z,connector:Zt.Z,crop:ot.Z,crown:qe.Z,cube:T.Z,cup:zt.Z,cursor:qt.Z,dashboard:Vt.Z,database:Ot.Z,discuss:kt.Z,doctor:Gt.Z,earth:Ht.Z,emotionHappy:t.Z,emotionUnhappy:Re.Z,envelop:Yt.Z,exit:Qt.Z,expand:Ae.Z,eye:Xt.Z,feather:Pt.Z,file:Dt.Z,fileError:U.Z,filePdf:Le.Z,filter:it.Z,folder:Ie.Z,gate:Jt.Z,gift:k.Z,globe:wt.Z,grid:en.Z,handHeart:tn.Z,hashtag:At.Z,headphone:fa.Z,heart:Lt.Z,house:ya.Z,information:rt.Z,italic:It.Z,key:nn.Z,landscape:lt.Z,layer:an.Z,layout:z.Z,lightbulb:dt.Z,link:ct.Z,lock:Ve.Z,magic:ke.Z,manyToMany:Ze.Z,manyToOne:Ea.Z,manyWays:xt.Z,medium:ut.Z,message:sn.Z,microphone:va.Z,monitor:St.Z,moon:Ut.Z,music:on.Z,oneToMany:rn.Z,oneToOne:Bt.Z,oneWay:ln.Z,paint:dn.Z,paintBrush:cn.Z,paperPlane:un.Z,pencil:mn.Z,phone:pn.Z,picture:gn.Z,pin:ha.Z,pinMap:fn.Z,plane:Ma.Z,play:yn.Z,plus:Ft.Z,priceTag:En.Z,puzzle:Ge.Z,question:He.Z,quote:mt.Z,repeat:vn.Z,restaurant:Wt.Z,rocket:hn.Z,rotate:pt.Z,scissors:gt.Z,search:_t.Z,seed:Mn.Z,server:ft.Z,shield:yt.Z,shirt:bn.Z,shoppingCart:Et.Z,slideshow:Tn.Z,stack:Nt.Z,star:Cn.Z,store:vt.Z,strikeThrough:Rn.Z,sun:ht.Z,television:Zn.Z,thumbDown:Kt.Z,thumbUp:On.Z,train:Pn.Z,twitter:Mt.Z,typhoon:Dn.Z,underline:ba.Z,user:An.Z,volumeMute:bt.Z,volumeUp:Ln.Z,walk:In.Z,wheelchair:xn.Z,write:Sn.Z}},74753:function(Ue,w,s){var n=s(32735);const ee=(0,n.createContext)();w.Z=ee},51216:function(Ue,w,s){var n=s(32735);const ee=(0,n.createContext)();w.Z=ee},198:function(Ue,w,s){var n=s(32735),ee=s(74753);const h=()=>(0,n.useContext)(ee.Z);w.Z=h},32237:function(Ue,w,s){var n=s(32735),ee=s(51216);const h=()=>(0,n.useContext)(ee.Z);w.Z=h},50929:function(Ue,w,s){s.r(w),s.d(w,{default:function(){return Fo}});var n=s(32735),ee=s(96709),h=s(69262),Te=s(74758),S=s(67879),X=s(53038),_=s(72850),De=s(7563),Be=s(99140),tt=s(90700),_e=s(78090),Fe=s(77013),Ne=s(79318),nt=s(28832),Ke=s(66618),Ee=s(19406),at=s(23940),re=s.n(at),$e=s(14911),c=s(92318),je=s(89793),We=s.n(je),de=s(198),Ce=s(32237),K=s(25158),ze=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:d,initialData:l}=(0,de.Z)(),u=(0,h.lm)(),{trackUsage:m}=(0,h.rS)(),[g,f]=(0,n.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:R}=(0,Ce.Z)(),{locale:b}=(0,S.Z)(),{startsWith:v}=(0,h.L0)(b,{sensitivity:"base"}),C=(0,h.Xe)(b,{sensitivity:"base"}),I=!Object.keys(o).some(B=>o[B].isTemporary===!0)&&!Object.keys(e).some(B=>e[B].isTemporary===!0)&&We()(d,l),E=()=>{I?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):$()},Z=()=>{I?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):$()},P=()=>{I?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):$()},$=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},G=Object.entries(a).map(([B,ve])=>({name:B,title:B,isEditable:r,onClickEdit(H,q){H.stopPropagation(),I?R(q.name):$()},links:ve.map(H=>({name:H.uid,to:`/plugins/${K.Z}/component-categories/${B}/${H.uid}`,title:H.schema.displayName})).sort((H,q)=>C.compare(H.title,q.title))})).sort((B,ve)=>C.compare(B.title,ve.title)),ae=i.filter(B=>B.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:E},links:ae.filter(B=>B.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:Z},links:ae.filter(B=>B.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:P},links:G}].map(B=>B.links.some(H=>Array.isArray(H.links))?{...B,links:B.links.map(H=>{const q=H.links.filter(Me=>v(Me.title,g));return q.length===0?null:{...H,links:q.sort((Me,V)=>C.compare(Me.title,V.title))}}).filter(Boolean)}:{...B,links:B.links.filter(H=>v(H.title,g)).sort((H,q)=>C.compare(H.title,q.title))}),searchValue:g,onSearchChange:f}},ot=()=>{const{menu:e,searchValue:a,onSearchChange:o}=ze(),{formatMessage:r}=(0,S.Z)();return n.createElement(tt.m,{ariaLabel:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(_e.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),n.createElement(Fe.Z,null,e.map(i=>n.createElement(n.Fragment,{key:i.name},n.createElement(Ne.D,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(d=>d.links?n.createElement(nt.z,{key:d.name,label:re()(d.title)},d.links.map(l=>n.createElement(Ke.E,{as:$e.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},re()(r({id:l.name,defaultMessage:l.title}))))):n.createElement(Ke.E,{as:$e.OL,to:d.to,active:d.active,key:d.name},re()(r({id:d.name,defaultMessage:d.title}))))),i.customLink&&n.createElement(_.x,{paddingLeft:7},n.createElement(De.A,{onClick:i.customLink.onClick,startIcon:n.createElement(Be.J,{as:Ee.Z,width:(0,h.Q1)(8),height:(0,h.Q1)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))},qe=s(33795),T=s.n(qe),zt=s(81346),qt=s.n(zt),Vt=s(3040),Ot=s.n(Vt),kt=s(61868),Gt=s.n(kt),Ht=s(60216),t=s.n(Ht),Re=s(15062),Yt=s(6680),Qt=s(74753),Ae=s(37087),Xt=s(85025),Pt=s(31600),Dt=s(91215),U=s(87933),Le=s(90980),it=s(9026),Ie=s(3653),Jt=s(11406),k=s(41415),wt=s(23973),en=s.n(wt),tn=s(59578),At=s.n(tn),Lt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),rt=(e,a)=>e.find(({name:o})=>o===a),It=s(27799);const nn=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],lt=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,S.Z)(),d=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>re()(u)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):a;return n.createElement(It.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:a,value:u,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:nn,value:r||[]})};lt.defaultProps={value:null},lt.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().oneOfType([t().object,t().array])};var an=lt,z=s(49372),dt=s(861),ct=s(15335),Ve=s(5803),ke=s(25747),Ze=s(8471),xt=(0,Ze.ZP)(_.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`;const ut=({type:e})=>{const{formatMessage:a}=(0,S.Z)(),{onClickSelectField:o}=(0,Ce.Z)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},n.createElement(U.k,null,n.createElement(ke.Z,{type:e}),n.createElement(_.x,{paddingLeft:4},n.createElement(U.k,null,n.createElement(z.Z,{fontWeight:"bold"},a({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(U.k,null,n.createElement(z.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};ut.defaultProps={type:"text"},ut.propTypes={type:t().string};var sn=ut,St=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}};const Ut=({attributes:e})=>n.createElement(dt.k,{tagName:"button"},n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>n.createElement(ct.r,{key:o,gap:0},a.map((r,i)=>{const{paddingLeft:d,paddingRight:l}=St(i);return n.createElement(Ve.P,{key:r,col:6,style:{height:"100%"}},n.createElement(_.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(sn,{type:r})))})))));Ut.propTypes={attributes:t().array.isRequired};var on=Ut,rn=s(50428);const Bt=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:r,intlDescription:i}=a,{formatMessage:d}=(0,S.Z)(),{onClickSelectCustomField:l}=(0,Ce.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(U.k,null,n.createElement(ke.Z,{type:o,customField:e}),n.createElement(_.x,{paddingLeft:4},n.createElement(U.k,null,n.createElement(z.Z,{fontWeight:"bold"},d(r))),n.createElement(U.k,null,n.createElement(z.Z,{variant:"pi",textColor:"neutral600"},d(i))))))};Bt.propTypes={customFieldUid:t().string.isRequired,customField:t().shape({type:t().string.isRequired,icon:t().func,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,intlDescription:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired}).isRequired};var ln=Bt,dn=s(25148),cn=s(54725),un=s(33348),mn=s.n(un);const pn=(0,Ze.ZP)(_.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,gn=()=>n.createElement(U.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>n.createElement(pn,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0})));var fn=()=>{const{formatMessage:e}=(0,S.Z)();return n.createElement(_.x,{position:"relative"},n.createElement(gn,null),n.createElement(_.x,{position:"absolute",top:6,width:"100%"},n.createElement(U.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(Be.J,{as:cn.Z,color:"",width:"160px",height:"88px"}),n.createElement(_.x,{paddingTop:6,paddingBottom:4},n.createElement(_.x,{textAlign:"center"},n.createElement(z.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(_.x,{paddingTop:4},n.createElement(z.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(dn.Q,{to:`/marketplace?${mn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(Ee.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},yn=()=>{const{formatMessage:e}=(0,S.Z)(),a=(0,h.mZ)(),o=Object.entries(a.getAll());if(!o.length)return n.createElement(fn,null);const r=o.sort((i,d)=>i[1].name>d[1].name?1:-1);return n.createElement(dt.k,{tagName:"button"},n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(ct.r,{gap:0},r.map(([i,d],l)=>{const{paddingLeft:u,paddingRight:m}=St(l);return n.createElement(Ve.P,{key:i,col:6,style:{height:"100%"}},n.createElement(_.x,{paddingLeft:u,paddingRight:m,paddingBottom:1,style:{height:"100%"}},n.createElement(ln,{key:i,customFieldUid:i,customField:d})))})),n.createElement(rn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))};const Ft=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:r}=(0,S.Z)(),i=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Pt.f,{padding:6},n.createElement(Dt.v,{label:r({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(U.k,{justifyContent:"space-between"},n.createElement(z.Z,{variant:"beta",as:"h2"},r({id:u,defaultMessage:"Select a field"})),n.createElement(Le.m,null,n.createElement(Le.O,null,r({id:i,defaultMessage:"Default"})),n.createElement(Le.O,null,r({id:d,defaultMessage:"Custom"})))),n.createElement(_.x,{paddingBottom:6},n.createElement(it.i,null)),n.createElement(Ie.n,null,n.createElement(Ie.x,null,n.createElement(on,{attributes:e})),n.createElement(Ie.x,null,n.createElement(yn,null)))))};Ft.propTypes={attributes:t().array.isRequired,forTarget:t().string.isRequired,kind:t().string.isRequired};var En=Ft,Ge=s(68465),He=s(84967);const mt=({intlLabel:e,name:a,options:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,S.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,u=m=>{let g="";m==="true"&&(g=!0),m==="false"&&(g=!1),r({target:{name:a,value:g,type:"select-default-boolean"}})};return n.createElement(Ge.P,{label:l,id:a,name:a,onChange:u,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:m,disabled:g,hidden:f},key:p,value:R})=>n.createElement(He.W,{key:p,value:R,disabled:g,hidden:f},m.defaultMessage)))};mt.defaultProps={value:null},mt.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired).isRequired,value:t().any};var vn=mt,Wt=s(30350);const hn=(0,Ze.ZP)(U.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Wt.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${z.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,pt=({intlLabel:e,name:a,onChange:o,radios:r,value:i})=>{const{formatMessage:d}=(0,S.Z)();return n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(z.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},d(e)),n.createElement(hn,{gap:4,alignItems:"stretch"},r.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(_.x,{className:"option",padding:4},n.createElement(U.k,null,n.createElement(_.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(z.Z,{fontWeight:"bold"},d(l.title)),n.createElement(z.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};pt.defaultProps={radios:[]},pt.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,radios:t().arrayOf(t().shape({title:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}),description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}),value:t().any.isRequired})),value:t().oneOfType([t().string,t().bool]).isRequired};var gt=pt;const _t=({onChange:e,name:a,...o})=>{const r=i=>{const d=i.target.value!=="false";e({target:{name:a,value:d,type:"boolean-radio-group"}})};return n.createElement(gt,{...o,name:a,onChange:r})};_t.propTypes={name:t().string.isRequired,onChange:t().func.isRequired};var Mn=_t,ft=s(8284),yt=s(10369),bn=s(32382);const Et=({error:e,intlLabel:a,modifiedData:o,name:r,onChange:i,value:d})=>{const{formatMessage:l}=(0,S.Z)(),[u,m]=(0,n.useState)(!!d||d===0),g=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):r,f=o.type==="biginteger"?"text":"number",p=!o.type,R=e?l({id:e,defaultMessage:e}):"";return n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(ft.X,{id:r,name:r,onValueChange:b=>{i({target:{name:r,value:b?f==="text"?"0":0:null}}),m(I=>!I)},value:u},g),u&&n.createElement(_.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?n.createElement(yt.o,{"aria-label":g,disabled:p,error:R,id:r,name:r,onChange:i,value:d===null?"":d}):n.createElement(bn.Y,{"aria-label":g,disabled:p,error:R,id:r,name:r,onValueChange:b=>{i({target:{name:r,value:b,type:f}})},value:d||0})))};Et.defaultProps={error:null,value:null},Et.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().oneOfType([t().string,t().object,t().bool,t().number])};var Tn=Et;const Nt=({onChange:e,...a})=>{const o=(0,h.lm)(),r=i=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return n.createElement(gt,{...a,onChange:r})};Nt.propTypes={onChange:t().func.isRequired};var Cn=Nt;const vt=({description:e,disabled:a,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),[m,g]=(0,n.useState)(!1),f=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=()=>g(C=>!C),b=()=>{d({target:{name:i,value:!1}}),R()},v=({target:{checked:C}})=>{if(!C&&!r){R();return}d({target:{name:i,value:C}})};return n.createElement(n.Fragment,null,n.createElement(ft.X,{checked:l,disabled:a,hint:p,name:i,onChange:v},f),n.createElement(h.QH,{isOpen:m,onToggleDialog:R,onConfirm:b,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};vt.defaultProps={description:null,disabled:!1,value:!1},vt.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),disabled:t().bool,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isCreating:t().bool.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().bool};var Rn=vt;const ht=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:m,isCreatingComponent:g,isCreatingComponentAttribute:f,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:R,isCreatingContentType:b,isCreatingDz:v,isComponentModal:C,isDzAttribute:I,isEditingAttribute:E,isEditingCategory:Z,isInFirstComponentStep:P,onSubmitAddComponentAttribute:$,onSubmitAddComponentToDz:G,onSubmitCreateContentType:ae,onSubmitCreateComponent:se,onSubmitCreateDz:B,onSubmitEditAttribute:ve,onSubmitEditCategory:H,onSubmitEditComponent:q,onSubmitEditContentType:Me,onSubmitEditCustomFieldAttribute:V,onSubmitEditDz:Xe,onClickFinish:ne})=>{const{formatMessage:j}=(0,S.Z)();return u?p?n.createElement(k.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),G(O,!0)},startIcon:n.createElement(Ee.Z,null)},j({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(k.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),G(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"})):i&&I&&!v?n.createElement(k.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),ne(),Xe(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"})):i&&I&&v?n.createElement(n.Fragment,null,n.createElement(k.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),B(O,!0)},startIcon:n.createElement(Ee.Z,null)},j({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?P?n.createElement(k.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),$(O,!0)}},j(f?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(k.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),$(O,!0)},startIcon:n.createElement(Ee.Z,null)},j(R?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(k.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),ne(),$(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!I?n.createElement(n.Fragment,null,n.createElement(k.z,{type:E?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),ve(O,!0)},startIcon:n.createElement(Ee.Z,null)},j({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(k.z,{type:E?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),ne(),ve(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))):m?n.createElement(n.Fragment,null,!b&&n.createElement(n.Fragment,null,n.createElement(k.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),r()}},j({id:"global.delete",defaultMessage:"Delete"})),n.createElement(k.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),Me(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))),b&&n.createElement(k.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),ae(O,!0)}},j({id:"global.continue",defaultMessage:"Continue"}))):C?n.createElement(n.Fragment,null,!g&&n.createElement(n.Fragment,null,n.createElement(k.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},j({id:"global.delete",defaultMessage:"Delete"})),n.createElement(k.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),q(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))),g&&n.createElement(k.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),se(O,!0)}},j({id:"global.continue",defaultMessage:"Continue"}))):Z?n.createElement(n.Fragment,null,n.createElement(k.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),a(e)}},j({id:"global.delete",defaultMessage:"Delete"})),n.createElement(k.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),H(O)}},j({id:"global.finish",defaultMessage:"finish"}))):d?n.createElement(n.Fragment,null,n.createElement(k.z,{type:E?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),V(O,!0)},startIcon:n.createElement(Ee.Z,null)},j({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(k.z,{type:E?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),ne(),V(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))):null};ht.defaultProps={categoryName:null,onClickFinish(){}},ht.propTypes={categoryName:t().string,deleteCategory:t().func.isRequired,deleteComponent:t().func.isRequired,deleteContentType:t().func.isRequired,isAttributeModal:t().bool.isRequired,isCustomFieldModal:t().bool.isRequired,isComponentAttribute:t().bool.isRequired,isComponentModal:t().bool.isRequired,isComponentToDzModal:t().bool.isRequired,isContentTypeModal:t().bool.isRequired,isCreatingComponent:t().bool.isRequired,isCreatingComponentAttribute:t().bool.isRequired,isCreatingComponentInDz:t().bool.isRequired,isCreatingComponentWhileAddingAField:t().bool.isRequired,isCreatingContentType:t().bool.isRequired,isCreatingDz:t().bool.isRequired,isDzAttribute:t().bool.isRequired,isEditingAttribute:t().bool.isRequired,isEditingCategory:t().bool.isRequired,isInFirstComponentStep:t().bool.isRequired,onSubmitAddComponentAttribute:t().func.isRequired,onSubmitAddComponentToDz:t().func.isRequired,onSubmitCreateContentType:t().func.isRequired,onSubmitCreateComponent:t().func.isRequired,onSubmitCreateDz:t().func.isRequired,onSubmitEditAttribute:t().func.isRequired,onSubmitEditCategory:t().func.isRequired,onSubmitEditComponent:t().func.isRequired,onSubmitEditContentType:t().func.isRequired,onSubmitEditCustomFieldAttribute:t().func.isRequired,onSubmitEditDz:t().func.isRequired,onClickFinish:t().func};var Zn=ht,Kt=s(55225),On=s(26858),Pn=s(51654);const Mt=({actionType:e,attributeName:a,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:m,customFieldUid:g})=>{const{formatMessage:f}=(0,S.Z)(),{modifiedData:p}=(0,de.Z)();let R,b=[];const v=p?.[l]?.[m]||p?.[l]||null;let C=v?.schema.displayName;if(u==="contentType"&&(R=i),["component","editCategory"].includes(u)&&(R="component"),["component","contentType"].includes(u)){let E=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(E=(0,c.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(E=(0,c.Z)("modalForm.header-edit")),n.createElement(Kt.x,null,n.createElement(U.k,null,n.createElement(_.x,null,n.createElement(ke.Z,{type:R})),n.createElement(_.x,{paddingLeft:3},n.createElement(z.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},f({id:E},{name:C})))))}return b=[{label:C,info:{category:v?.category||null,name:v?.schema.displayName}}],u==="chooseAttribute"&&(R=["component","components"].includes(l)?"component":v.schema.kind),u==="addComponentToDynamicZone"&&(R="dynamiczone",b.push({label:d})),(u==="attribute"||u==="customField")&&(R=o,b.push({label:a})),u==="editCategory"&&(b=[{label:f({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]),n.createElement(Kt.x,null,n.createElement(U.k,{gap:3},n.createElement(ke.Z,{type:R,customField:g}),n.createElement(On.O,{label:b.map(({label:E})=>E).join(",")},b.map(({label:E,info:Z},P,$)=>{if(E=re()(E),!E)return null;const G=`${E}.${P}`;return Z?.category&&(E=`${E} (${re()(Z.category)} - ${re()(Z.name)})`),n.createElement(Pn.$,{isCurrent:P===$.length-1,key:G},E)}))))};Mt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},Mt.propTypes={actionType:t().string,attributeName:t().string,attributeType:t().string,categoryName:t().string,contentTypeKind:t().string,dynamicZoneTarget:t().string,forTarget:t().oneOf(["contentType","component","components"]),modalType:t().string.isRequired,targetUid:t().string,customFieldUid:t().string};var Dn=Mt,An=({modalType:e,forTarget:a,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}};const bt=({actionType:e,modalType:a,forTarget:o,kind:r,step:i,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:m}=(0,S.Z)(),g=a==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return n.createElement(U.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(z.Z,{as:"h2",variant:"beta"},m({id:An({actionType:e,forTarget:o,kind:r,step:i,modalType:a}),defaultMessage:"Add new field"},{type:re()(m(g)),name:re()(l),step:i})),n.createElement(z.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};bt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},bt.propTypes={actionType:t().string,modalType:t().string,forTarget:t().string,kind:t().string,step:t().string,attributeType:t().string,attributeName:t().string,customField:t().object};var Ln=bt,In=s(87107),xn=s(28847),Sn=s(3685),Un=s(98275),rs=s(61774),Ta=s(50563),ls=s(63919),ds=s(6792),cs=s(4038),Ca=s(31753);const us=(0,Ze.ZP)(U.k)`
  label {
    ${Wt.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Ra=({iconKey:e,name:a,onChange:o,isSelected:r,ariaLabel:i})=>n.createElement(In.g,{name:a,required:!1},n.createElement(xn.Q,{htmlFor:e,id:`${e}-label`},n.createElement(Sn.T,null,n.createElement(Un._,{type:"radio",id:e,name:a,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),n.createElement(U.k,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},n.createElement(Be.J,{as:Ca.c[e],color:r?"primary600":"neutral300"}))));Ra.propTypes={iconKey:t().string.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,isSelected:t().bool.isRequired,ariaLabel:t().string.isRequired};const Bn=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,S.Z)(),[d,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),g=Object.keys(Ca.c),[f,p]=(0,n.useState)(g),R=(0,n.useRef)(null),b=(0,n.useRef)(null),v=()=>{l(!d)},C=({target:{value:Z}})=>{m(Z),p(()=>g.filter(P=>P.toLowerCase().includes(Z.toLowerCase())))},I=()=>{v(),m(""),p(g)},E=()=>{o({target:{name:a,value:""}})};return(0,n.useEffect)(()=>{d&&b.current.focus()},[d]),n.createElement(n.Fragment,null,n.createElement(U.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(z.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),n.createElement(U.k,{gap:1},d?n.createElement(rs.w,{ref:b,name:"searchbar",size:"S",placeholder:i({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||v()},onChange:C,value:u,onClear:I,clearLabel:i({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(Ta.h,{ref:R,onClick:v,"aria-label":i({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(ds.Z,null),noBorder:!0}),r&&n.createElement(ls.u,{description:i({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(Ta.h,{onClick:E,"aria-label":i({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(cs.Z,null),noBorder:!0})))),n.createElement(us,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},f.length>0?f.map(Z=>n.createElement(Ra,{key:Z,iconKey:Z,name:a,onChange:o,isSelected:Z===r,ariaLabel:i({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:Z})})):n.createElement(_.x,{padding:4,grow:2},n.createElement(z.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Bn.defaultProps={value:""},Bn.propTypes={intlLabel:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var ms=Bn,ps=s(24443),Fn=s.n(ps),Za=s(45251);const Wn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=(0,n.useRef)(d),g=r?.displayName||"";(0,n.useEffect)(()=>{if(g){const b=(0,Za.Z)(g);try{const v=Fn()(b,2);m.current({target:{name:i,value:v}})}catch{m.current({target:{name:i,value:b}})}}else m.current({target:{name:i,value:""}})},[g,i]);const f=a?u({id:a,defaultMessage:a}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=u(o);return n.createElement(yt.o,{error:f,label:R,id:i,hint:p,name:i,onChange:d,value:l||""})};Wn.defaultProps={description:null,error:null,value:null},Wn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var gs=Wn,_n=s(49561),Oa=s(34853),Q=s(91559);const Nn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,de.Z)(),i=(0,Re.I0)(),d=r.filter(Lt),l=T()(o,[a,"plugin"],null),u=T()(o,[a,"schema","displayName"],"error");return n.createElement(Oa.O,{id:"label",label:`${u}
    ${l?`(from: ${l})`:""}`},d.map(({uid:m,title:g,restrictRelationsTo:f,plugin:p})=>{const R=()=>{const b=p?`${p}_${g}`:g;i({type:Q.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:b,targetContentTypeAllowedRelations:f}})};return n.createElement(Oa.s,{key:m,onClick:R},g,"\xA0",p&&n.createElement(n.Fragment,null,"(from: ",p,")"))}))};Nn.defaultProps={target:null},Nn.propTypes={oneThatIsCreatingARelationWithAnother:t().string.isRequired,target:t().string};var fs=Nn;const Kn=({disabled:e,error:a,header:o,isMain:r,name:i,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:m})=>n.createElement(_.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(U.k,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?n.createElement(z.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(fs,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(it.i,{background:"neutral200"}),n.createElement(_.x,{padding:4},n.createElement(h.jm,{disabled:e,error:a?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:d,type:"text",value:m})));Kn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Kn.propTypes={disabled:t().bool,error:t().object,header:t().string,isMain:t().bool,name:t().string.isRequired,onChange:t().func,oneThatIsCreatingARelationWithAnother:t().string,target:t().string,value:t().string};var Pa=Kn,ys=s(25449),Es=s(10168),vs=s(7733),hs=s(79634),Ms=s(26253),bs=s(32548),Ts=s(51382),Da=s.n(Ts);const Cs=(0,Ze.ZP)(_.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Rs=(0,Ze.ZP)(_.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Zs=(0,Ze.ZP)(U.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Os={oneWay:ys.Z,oneToOne:Es.Z,oneToMany:vs.Z,manyToOne:hs.Z,manyToMany:Ms.Z,manyWay:bs.Z},$n=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:r})=>{const i=(0,Re.I0)(),{formatMessage:d}=(0,S.Z)(),{contentTypes:l,modifiedData:u}=(0,de.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],g=["oneWay","manyWay"],p=(e==="contentType"?T()(u,[e,"schema","kind"],""):e)==="collectionType"?m:g,R=o==="manyToOne",b=T()(l,[r,"schema","displayName"],"unknown"),v=R?b:a,C=R?a:b,I=Fn()(v,o==="manyToMany"?2:1),E=T()(l,[r,"schema","restrictRelationsTo"],null),Z=Fn()(C,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(U.k,{style:{flex:1}},n.createElement(Cs,null,n.createElement(U.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(dt.k,{tagName:"button"},n.createElement(U.k,{gap:3},p.map(P=>{const $=Os[P],G=E===null||E.includes(P);return n.createElement(Rs,{as:"button",isSelected:o===P,disabled:!G,key:P,onClick:()=>{G&&i({type:Q.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:r,value:P}})},padding:2,type:"button"},n.createElement($,{key:P}))}))))),n.createElement(Zs,{justifyContent:"center"},n.createElement(z.Z,null,Da()(I,{length:24}),"\xA0"),n.createElement(z.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),n.createElement(z.Z,null,Da()(Z,{length:24})))):null};$n.defaultProps={relationType:null,target:null},$n.propTypes={naturePickerType:t().string.isRequired,oneThatIsCreatingARelationWithAnother:t().string.isRequired,relationType:t().string,target:t().string};var Ps=$n;const Aa=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:r,onChange:i})=>{const d=(0,_n.Z)(o.relation,o.targetAttribute);return n.createElement(U.k,{style:{position:"relative"}},n.createElement(Pa,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),n.createElement(Ps,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:a,relationType:d,target:o.target}),n.createElement(Pa,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};Aa.propTypes={formErrors:t().object.isRequired,mainBoxHeader:t().string.isRequired,modifiedData:t().object.isRequired,naturePickerType:t().string.isRequired,onChange:t().func.isRequired};var Ds=Aa;const jn=({description:e,disabled:a,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{trackUsage:u}=(0,h.rS)(),{formatMessage:m}=(0,S.Z)(),[g,f]=(0,n.useState)(!1),p=o.id?m({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,R=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",b=()=>f(I=>!I),v=()=>{d({target:{name:i,value:!1}}),u("willDisableWorkflow"),b()},C=({target:{checked:I}})=>{if(!I&&!r){b();return}I&&u("willEnableWorkflow"),d({target:{name:i,value:I}})};return n.createElement(n.Fragment,null,n.createElement(ft.X,{checked:l,disabled:a,hint:R,name:i,onChange:C},p),n.createElement(h.QH,{isOpen:g,onToggleDialog:b,onConfirm:v,bodyText:{id:(0,c.Z)("popUpWarning.review-workflows.message"),defaultMessage:"If you disable the review workflows feature, all stage-related information will be removed for this content-type. Are you sure you want to disable it?"},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.review-workflows.button.confirm"),defaultMessage:"Yes, disable"}}))};jn.defaultProps={description:null,disabled:!1,value:!1},jn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),disabled:t().bool,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isCreating:t().bool.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().bool};var As=jn,Ls=s(21428),Is=s(90333);const zn=({error:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,S.Z)(),{allComponentsCategories:l}=(0,de.Z)(),[u,m]=(0,n.useState)(l),g=e?d({id:e,defaultMessage:e}):"",f=d(a),p=b=>{r({target:{name:o,value:b,type:"select-category"}})},R=b=>{m(v=>[...v,b]),p(b)};return n.createElement(Ls.XU,{error:g,id:o,label:f,name:o,onChange:p,onCreateOption:R,value:i},u.map(b=>n.createElement(Is.O,{key:b,value:b},b)))};zn.defaultProps={error:null,value:null},zn.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var xs=zn;const qn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:d,name:l,onChange:u,targetUid:m,forTarget:g,value:f})=>{const{formatMessage:p}=(0,S.Z)(),R=e?p({id:e,defaultMessage:e}):"",b=p(a),{componentsGroupedByCategory:v,componentsThatHaveOtherComponentInTheirAttributes:C}=(0,de.Z)(),I=["component","components"].includes(g);let E=Object.entries(v).reduce((Z,P)=>{const[$,G]=P,ae=G.map(se=>({uid:se.uid,label:se.schema.displayName,categoryName:$}));return[...Z,...ae]},[]);return o&&(E=E.filter(Z=>!C.includes(Z.uid))),I&&(E=E.filter(Z=>Z.uid!==m)),i&&(E=[{uid:f,label:d.displayName,categoryName:d.category}]),n.createElement(Ge.P,{disabled:i||!r,error:R,label:b,id:l,name:l,onChange:Z=>{u({target:{name:l,value:Z,type:"select-category"}})},value:f||""},E.map(Z=>n.createElement(He.W,{key:Z.uid,value:Z.uid},`${Z.categoryName} - ${Z.label}`)))};qn.defaultProps={componentToCreate:null,error:null},qn.propTypes={componentToCreate:t().object,forTarget:t().string.isRequired,error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isAddingAComponentToAnotherComponent:t().bool.isRequired,isCreating:t().bool.isRequired,isCreatingComponentWhileAddingAField:t().bool.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,targetUid:t().string.isRequired,value:t().string.isRequired};var Ss=qn;const La=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,S.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,de.Z)(),g=(rt(u.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(l).reduce((b,v)=>{const C=l[v].filter(({uid:I})=>!g.includes(I));return C.length>0&&(b[v]=C),b},{}),p=Object.entries(f).reduce((b,v)=>{const[C,I]=v,E={label:C,children:I.map(({uid:Z,schema:{displayName:P}})=>({label:P,value:Z}))};return b.push(E),b},[]),R=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return n.createElement(It.Q,{id:"select1",label:d(a),customizeContent:()=>R,name:o,onChange:b=>{r({target:{name:o,value:b,type:"select-components"}})},options:p,value:i||[]})};La.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,dynamicZoneTarget:t().string.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().array.isRequired};var Us=La;const Vn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=u(e),g=a?u({id:a,defaultMessage:a}):"",f=p=>{i({target:{name:r,value:p,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return n.createElement(Ge.P,{error:g,label:m,id:r,name:r,onChange:f,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:R,hidden:b},key:v,value:C})=>n.createElement(He.W,{key:v,value:C,disabled:R,hidden:b},u({id:p.id,defaultMessage:p.defaultMessage},p.values))))};Vn.defaultProps={error:void 0,value:""},Vn.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired).isRequired,value:t().string};var Bs=Vn;const kn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=u(e),g=a?u({id:a,defaultMessage:a}):"",f=p=>{i({target:{name:r,value:p,type:"select"}}),l&&(p==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return n.createElement(Ge.P,{error:g,label:m,id:r,name:r,onChange:f,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:R,hidden:b},key:v,value:C})=>n.createElement(He.W,{key:v,value:C,disabled:R,hidden:b},u(p))))};kn.defaultProps={error:void 0,value:""},kn.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired).isRequired,value:t().string};var Fs=kn;const Gn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=(0,n.useRef)(d),g=r?.displayName||"";(0,n.useEffect)(()=>{g?m.current({target:{name:i,value:(0,Za.Z)(g)}}):m.current({target:{name:i,value:""}})},[g,i]);const f=a?u({id:a,defaultMessage:a}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=u(o);return n.createElement(yt.o,{error:f,label:R,id:i,hint:p,name:i,onChange:d,value:l||""})};Gn.defaultProps={description:null,error:null,value:null},Gn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var Ws=Gn;const Ia=({form:e,formErrors:a,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:d}=(0,S.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(_.x,{key:u},l.sectionTitle&&n.createElement(_.x,{paddingBottom:4},n.createElement(z.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),n.createElement(ct.r,{gap:4},l.items.map((m,g)=>{const f=`${u}.${g}`,p=T()(r,m.name,""),R=Object.keys(a).find(v=>v===m.name),b=R?a[R].id:T()(a,[...m.name.split(".").filter(v=>v!=="componentToCreate"),"id"],null);return m.type==="pushRight"?n.createElement(Ve.P,{col:m.size||6,key:m.name||f},n.createElement("div",null)):n.createElement(Ve.P,{col:m.size||6,key:m.name||f},n.createElement(h.jm,{...m,...o,error:b,onChange:i,value:p}))}))))};Ia.propTypes={form:t().arrayOf(t().object).isRequired,formErrors:t().object.isRequired,genericInputProps:t().object.isRequired,modifiedData:t().object.isRequired,onChange:t().func.isRequired};var xa=Ia,_s=s(33475);const Hn=({description:e,disabled:a,error:o,intlLabel:r,labelAction:i,name:d,onChange:l,placeholder:u,value:m})=>{const{formatMessage:g}=(0,S.Z)(),f=o?g({id:o,defaultMessage:o}):"",p=e?g({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=g(r),b=u?g({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",v=Array.isArray(m)?m.join(`
`):"",C=I=>{const E=I.target.value.split(`
`);l({target:{name:d,value:E}})};return n.createElement(_s.g,{disabled:a,error:f,label:R,labelAction:i,id:d,hint:p,name:d,onChange:C,placeholder:b,value:v},v)};Hn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Hn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),disabled:t().bool,error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,labelAction:t().element,name:t().string.isRequired,onChange:t().func.isRequired,placeholder:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),value:t().oneOfType([t().array,t().string])};var Ns=Hn;const he={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var Ks={sections:[{sectionTitle:null,items:[he]}]},Yn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},M=s(24346),Sa=/^[A-Za-z][-_0-9A-Za-z]*$/,$s=e=>{const a={name:M.Z_().matches(Sa,h.I0.regex).test({name:"nameNotAllowed",message:h.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(h.I0.required)};return M.Ry(a)},js={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Ye=s(2158),zs=(e,a,o)=>{const r={displayName:M.Z_().test({name:"nameAlreadyUsed",message:h.I0.unique,test(i){if(!i)return!1;const d=(0,Ye.N)(i,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(i){return i?!a.includes(i?.trim()?.toLowerCase()):!1}}).required(h.I0.required),category:M.Z_().matches(Sa,h.I0.regex).required(h.I0.required),icon:M.Z_()};return M.Ry(r)},Qe={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},qs={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:e},a){return a==="1"?{sections:Qe.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...D.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}},Vs={component(e,a){if(a==="1"){const o=e.createComponent===!0?Qe.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Yn]},...o]}}return{sections:[{sectionTitle:null,items:[he,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[he,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[he]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[he]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[he,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[he]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[he]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...he,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},Ua={advanced:qs,base:Vs},ks=s(91815),Gs=s.n(ks),Hs=s(40791),Ys=s.n(Hs),Qn=e=>Ys()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Qs=s(78746),Xn=s.n(Qs);const Ba=/^[A-Za-z][_0-9A-Za-z]*$/,Fa=e=>({name:"attributeNameAlreadyUsed",message:h.I0.unique,test(a){return a?!e.includes(a):!1}}),mi=(e,a,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>a?i!==o:!0)},Jn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),y={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,c.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>M.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,c.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return M.Z_().test(Fa(e)).test(Jn(a)).matches(Ba,h.I0.regex).required(h.I0.required)},required:()=>M.O7(),type:()=>M.Z_().required(h.I0.required),unique:()=>M.O7().nullable()},wn=(e,a)=>({name:y.name(e,a),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),ea={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(Xn()(e))?!0:Xn()(a)>=Xn()(e)}};var ta={date(e,a){const o={name:y.name(e,a),type:y.type()};return M.Ry(o)},datetime(e,a){const o={name:y.name(e,a),type:y.type()};return M.Ry(o)},time(e,a){const o={name:y.name(e,a),type:y.type()};return M.Ry(o)},default(e,a){const o={name:y.name(e,a),type:y.type()};return M.Ry(o)},biginteger(e,a){const o={name:y.name(e,a),type:y.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:y.unique(),required:y.required(),max:M.Z_().nullable().matches(/^-?\d*$/,h.I0.regex),min:M.Z_().nullable().test(ea).matches(/^-?\d*$/,h.I0.regex)};return M.Ry(o)},boolean(e,a){const o={name:y.name(e,a),default:M.O7().nullable(),required:y.required(),unique:y.unique()};return M.Ry(o)},component(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),max:y.max(),min:y.min(),component:M.Z_().required(h.I0.required)};return M.Ry(o)},decimal(e,a){const o={name:y.name(e,a),type:y.type(),default:M.Rx(),required:y.required(),max:M.Rx(),min:M.Rx().test(ea)};return M.Ry(o)},dynamiczone(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),max:y.max(),min:y.min()};return M.Ry(o)},email(e,a){const o={name:y.name(e,a),type:y.type(),default:M.Z_().email().nullable(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return M.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:M.Z_().test(Fa(e)).test(Jn(a)).matches(o,h.I0.regex).required(h.I0.required),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),enum:M.IX().of(M.Z_()).min(1,h.I0.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(i){return!Gs()(i.map(Qn).filter((l,u,m)=>m.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:i=>!i.map(Qn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:i=>i.map(Qn).every(d=>o.test(d))}),enumName:M.Z_().nullable()};return M.Ry(r)},float(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(ea)};return M.Ry(o)},integer(e,a){const o={name:y.name(e,a),type:y.type(),default:M.Rx().integer(),unique:y.unique(),required:y.required(),max:y.max(),min:y.min()};return M.Ry(o)},json(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),unique:y.unique()};return M.Ry(o)},media(e,a){const o={name:y.name(e,a),type:y.type(),multiple:M.O7(),required:y.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(o)},password(e,a){const o={name:y.name(e,a),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return M.Ry(o)},relation(e,a,o,{initialData:r,modifiedData:i}){const d={name:y.name(e,a),target:M.Z_().required(h.I0.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const l=(0,_n.Z)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return M.Z_().nullable();let u=M.Z_().test(Jn(a)),g=[...o.map(({name:f})=>f),i.name].filter(f=>f!==r.targetAttribute);return u.matches(Ba,h.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!g.includes(f):!1}}).required(h.I0.required)})};return M.Ry(d)},richtext(e,a){const o={name:y.name(e,a),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return M.Ry(o)},string(e,a){const o=wn(e,a);return M.Ry(o)},text(e,a){const o=wn(e,a);return M.Ry(o)},uid(e,a){const o=wn(e,a);return M.Ry(o)}},Xs=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const d={displayName:M.Z_().test({name:"nameAlreadyUsed",message:h.I0.unique,test(l){if(!l)return!1;const u=(0,Ye.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(h.I0.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:h.I0.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(h.I0.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:h.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(h.I0.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:M.O7()};return M.Ry(d)};const Wa={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}};var na={advanced:{default(){const e=[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}];return window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({intlLabel:{id:(0,c.Z)("contentType.reviewWorkflows.label"),defaultMessage:"Review Workflows"},description:{id:(0,c.Z)("contentType.reviewWorkflows.description"),defaultMessage:"Allows having content in different review stages"},name:"reviewWorkflows",type:"toggle-review-workflows",validations:{}}),{sections:[{items:e}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Wa,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Wa,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},aa={advanced:{default(){return{sections:Qe.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Yn]},...Qe.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Yn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},_a=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},Na=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),xe={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:d}){const l=Na(e,i),u=ta[a](l,r.attributes);return d.makeCustomFieldValidator(u,o,l,r.attributes,i)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[he]}];return e.options?.base&&_a(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:r,...i}){const d=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...i});if(e.options?.advanced&&_a(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,a,o,r,i,d){const l=e?.schema?.attributes??[],u=Na(l,i);try{let m=ta[a](u,o.attributes,r,i);return d.makeValidator(["attribute",a],m,u,o.attributes,r,i)}catch(m){return console.error("Error yup build schema",m),ta.default(u,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:r,...i}){try{const d=Ua.advanced[a](e,o).sections,l=r.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...i});return{sections:d.reduce((m,g)=>(g.sectionTitle===null?m.push(g):m.push({...g,items:[...g.items,...l]}),m),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:a,step:o,attributes:r}){try{return Ua.base[a](e,o,r)}catch{return Ks}}}},contentType:{schema(e,a,o,r,i,d){const l=Object.values(d).map(v=>v.schema.singularName),u=Object.values(d).map(v=>v?.schema?.pluralName??""),m=a?e.filter(v=>v!==o):e,g=a?l.filter(v=>{const{schema:C}=d[o];return C.singularName!==v}):l,f=a?u.filter(v=>{const{schema:C}=d[o];return C.pluralName!==v}):u,p=Object.values(d).map(v=>v?.schema?.collectionName??""),R=a?p.filter(v=>{const{schema:C}=d[o],I=C.pluralName,E=C.collectionName;return v!==I||v!==E}):p,b=Xs({usedContentTypeNames:m,reservedModels:r.models,singularNames:g,pluralNames:f,collectionNames:R});return i.makeValidator(["contentType"],b,m,r.models,g,f)},form:{base({actionType:e}){return e==="create"?na.base.create():na.base.edit()},advanced({extensions:e}){const a=na.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,r=!1,i=null){const d=r?e.filter(l=>l!==i):e;return zs(d,o.models,a)},form:{advanced(){return{sections:Qe.advanced()}},base(){return{sections:Qe.base()}}}},addComponentToDynamicZone:{form:{advanced(){return aa.advanced.default()},base({data:e}){return e?.createComponent??!1?aa.base.createComponent():aa.base.default()}}},editCategory:{schema(e,a){const o=e.filter(r=>r!==a.name).map(r=>r.toLowerCase());return $s(o)},form:{advanced:()=>({sections:[]}),base(){return js.base}}}},Ka=s(98178),Js=s(25061);const ws=()=>e=>e[`${K.Z}_formModal`]||Js.E;var eo=()=>(0,Ka.P1)(ws(),e=>e),to=(e,a)=>{const o=T()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:T()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const m=(0,_n.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},no=(e="",a,o)=>{const r=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",d=o.includes(a),l=!i&&!d;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},$a=e=>e.reduce((a,o)=>{const r=o.items.reduce((i,d)=>(d.name&&i.push(d.name),i),[]);return[...a,...r]},[]),ao=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:d,attributeType:l,customFieldUid:u,categoryName:m,dynamicZoneTarget:g,forTarget:f,modalType:p,isOpen:R,kind:b,step:v,targetUid:C}=(0,Ce.Z)(),I=(0,h.mZ)().get(u),E=(0,n.useRef)(),Z=(0,n.useMemo)(eo,[]),P=(0,Re.I0)(),$=(0,h.lm)(),G=(0,Re.v9)(W=>Z(W),Re.wU),{push:ae}=(0,X.k6)(),{trackUsage:se}=(0,h.rS)(),{formatMessage:B}=(0,S.Z)(),{getPlugin:ve}=(0,h.j1)(),q=ve(K.Z).apis.forms,Me=q.components.inputs,{addAttribute:V,addCustomFieldAttribute:Xe,addCreatedComponentToDynamicZone:ne,allComponentsCategories:j,changeDynamicZoneComponents:O,contentTypes:Je,components:Ct,createSchema:we,deleteCategory:oa,deleteData:jt,editCategory:ia,editCustomFieldAttribute:ra,submitData:la,modifiedData:oe,nestedComponents:da,setModifiedData:ca,sortedContentTypesList:ua,updateSchema:ma,reservedNames:Oe}=(0,de.Z)(),{componentToCreate:Rt,formErrors:Pe,initialData:le,isCreatingComponentWhileAddingAField:Se,modifiedData:x}=G,A=f==="contentType"||f==="component"?[f]:[f,C];(0,n.useEffect)(()=>{if(R){const W=ua.filter(Lt);p==="editCategory"&&ca(),i==="edit"&&p==="attribute"&&f==="contentType"&&se("willEditFieldOfContentType");const me=[...A,"schema","attributes"],fe=rt(T()(oe,me,[]),g)||null;if(p==="editCategory"&&i==="edit"&&P({type:Q._H,modalType:p,actionType:i,data:{name:m}}),p==="contentType"&&i==="create"&&P({type:Q._H,modalType:p,actionType:i,data:{draftAndPublish:!0,reviewWorkflows:!1},pluginOptions:{}}),p==="contentType"&&i==="edit"){const{displayName:N,draftAndPublish:J,kind:ye,pluginOptions:ie,pluralName:Xo,reviewWorkflows:Jo,singularName:wo}=T()(oe,[...A,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});P({type:Q._H,actionType:i,modalType:p,data:{displayName:N,draftAndPublish:J,kind:ye,pluginOptions:ie,pluralName:Xo,reviewWorkflows:Jo??!1,singularName:wo}})}if(p==="component"&&i==="edit"){const N=T()(oe,A,{});P({type:Q._H,actionType:i,modalType:p,data:{displayName:N.schema.displayName,category:N.category,icon:N.schema.icon}})}if(p==="addComponentToDynamicZone"&&i==="edit"){const N={...fe,components:[],name:g,createComponent:!1,componentToCreate:{type:"component"}};P({type:Q.VZ,attributeToEdit:N})}if(l){const J={...rt(T()(oe,me,[]),d),name:d};l==="component"&&i==="edit"&&(J.repeatable||Ot()(J,"repeatable",!1)),P(p==="customField"?{type:Q.OY,customField:I,isEditing:i==="edit",modifiedDataToSetForEditing:J,forTarget:f}:{type:Q.S0,attributeType:l,nameToSetForRelation:T()(W,["0","title"],"error"),targetUid:T()(W,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:J,step:v,forTarget:f})}}else P({type:Q.c2})},[i,d,l,m,g,f,R,p]);const L=p==="contentType",F=p==="component",Y=p==="attribute",ce=p==="customField",ue=l==="component"&&Y,pe=i==="create",be=T()(x,"createComponent",!1)||Se,et=v==="1",wa=p==="editCategory",es=p==="chooseAttribute",pa=(0,Ye.E)(x.displayName||""),ga=T()(oe,[...A,"schema","attributes"],null),Wo=async()=>{let W;const me=be&&v==="1"?T()(x,"componentToCreate",{}):x;if(L)W=xe.contentType.schema(Object.keys(Je),i==="edit",T()(oe,[...A,"uid"],null),Oe,q,Je);else if(F)W=xe.component.schema(Object.keys(Ct),x.category||"",Oe,i==="edit",T()(oe,[...A,"uid"],null),q);else if(ce)W=xe.customField.schema({schemaAttributes:T()(oe,[...A,"schema","attributes"],[]),attributeType:I.type,reservedNames:Oe,schemaData:{modifiedData:x,initialData:le},ctbFormsAPI:q,customFieldValidator:I.options?.validator});else if(ue&&be&&et)W=xe.component.schema(Object.keys(Ct),T()(x,"componentToCreate.category",""),Oe,q);else if(Y&&!et){const fe=l==="relation"?"relation":x.type;let N=[];if(fe==="relation"){const J=T()(x,["target"],null);N=T()(Je,[J,"schema","attributes"],[]).filter(({name:ie})=>i!=="edit"?!0:ie!==le.targetAttribute)}W=xe.attribute.schema(T()(oe,A,{}),fe,Oe,N,{modifiedData:x,initialData:le},q)}else if(wa)W=xe.editCategory.schema(j,le,q);else if(et&&be)W=xe.component.schema(Object.keys(Ct),T()(x,"componentToCreate.category",""),Oe,q);else return;await W.validate(me,{abortEarly:!1})},ts=(0,n.useCallback)(({target:{name:W,value:me,type:fe,...N}})=>{const J=["enumName","max","min","maxLength","minLength","regex","default"];let ye;J.includes(W)&&me===""?ye=null:ye=me;const ie=Object.assign({},Pe);W==="max"&&delete ie.min,W==="maxLength"&&delete ie.minLength,delete ie[W],P({type:Q.Ey,errors:ie}),P({type:Q.P0,keys:W.split("."),value:ye,...N})},[P,Pe]),ge=async(W,me=pe)=>{W.preventDefault();try{await Wo(),Ko(me);const fe=f==="components"?C:pa;if(L)if(pe)we({...x,kind:b},p,pa),ae({pathname:`/plugins/${K.Z}/content-types/${pa}`}),a({forTarget:f,targetUid:fe});else{to(oe,x)?(e(),la(x)):$({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(pe){const N=(0,Ye.N)(x.displayName,x.category),{category:J,...ye}=x;we(ye,"component",N,J),ae({pathname:`/plugins/${K.Z}/component-categories/${J}/${N}`}),a({forTarget:f,targetUid:N})}else{ma(x,p,C),e();return}else if(wa){if(At()(le.name)===At()(x.name)){e();return}ia(le.name,x);return}else if(ce){const N={attributeToSet:{...x,customField:u},forTarget:f,targetUid:C,initialAttribute:le};i==="edit"?ra(N):Xe(N),me?a({forTarget:f,targetUid:fe}):e();return}else if(Y&&!be){if(l==="dynamiczone"){V(x,f,C,i==="edit",le),pe?(P({type:Q.I}),E.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:x.name})):e();return}if(!ue){V(x,f,C,i==="edit",le),me?a({forTarget:f,targetUid:fe}):e();return}if(et){r(),P({type:Q.yC,forTarget:f});return}V(x,f,C,i==="edit",le,!0),me?a({forTarget:f,targetUid:C}):e()}else if(Y&&be){if(et){se("willCreateComponentFromAttributesModal"),P({type:Q.oF,forTarget:f}),r();return}const{category:N,type:J,...ye}=Rt,ie=(0,Ye.N)(Rt.displayName,N);we(ye,J,ie,N,be),V(x,f,C,!1),P({type:Q.c2}),me?a({forTarget:"components",targetUid:ie}):e();return}else{if(et)if(be){const{category:N,type:J,...ye}=x.componentToCreate,ie=(0,Ye.N)(x.componentToCreate.displayName,N);we(ye,J,ie,N,be),ne(g,[ie]),a({forTarget:"components",targetUid:ie})}else O(g,x.components),e();else console.error("This case is not handled");return}P({type:Q.c2})}catch(fe){const N=(0,h.CJ)(fe);console.log({err:fe,errors:N}),P({type:Q.Ey,errors:N})}},_o=()=>{window.confirm(B({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),P({type:Q.c2}))},ns=()=>{We()(x,le)?(e(),P({type:Q.c2})):_o()},No=W=>{if(W==="advanced"){if(L){se("didSelectContentTypeSettings");return}f==="contentType"&&se("didSelectContentTypeFieldSettings")}},Ko=W=>{p==="attribute"&&f==="contentType"&&l!=="dynamiczone"&&W&&se("willAddMoreFieldToContentType")},$o=()=>!!(p==="editCategory"||p==="component"||en()(x,"createComponent")),jo=no(f,C,da);if(!R||!p)return null;const as=T()(xe,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),zo=f==="components"||f==="component",ss={customInputs:{"allowed-types-select":an,"boolean-radio-group":Mn,"checkbox-with-number-field":Tn,"icon-picker":ms,"content-type-radio-group":Cn,"radio-group":gt,relation:Ds,"select-category":xs,"select-component":Ss,"select-components":Us,"select-default-boolean":vn,"select-number":Fs,"select-date":Bs,"toggle-draft-publish":Rn,"toggle-review-workflows":As,"text-plural":gs,"text-singular":Ws,"textarea-enum":Ns,...Me},componentToCreate:Rt,dynamicZoneTarget:g,formErrors:Pe,isAddingAComponentToAnotherComponent:zo,isCreatingComponentWhileAddingAField:Se,mainBoxHeader:T()(oe,[...A,"schema","displayName"],""),modifiedData:x,naturePickerType:f,isCreating:pe,targetUid:C,forTarget:f},os=as.advanced({data:x,type:l,step:v,actionType:i,attributes:ga,extensions:q,forTarget:f,contentTypeSchema:oe.contentType||{},customField:I}).sections,is=as.base({data:x,type:l,step:v,actionType:i,attributes:ga,extensions:q,forTarget:f,contentTypeSchema:oe.contentType||{},customField:I}).sections,qo=$a(is),Vo=$a(os),ko=Object.keys(Pe).some(W=>qo.includes(W)),Go=Object.keys(Pe).some(W=>Vo.includes(W)),Ho=T()(Je,[C,"schema","kind"]),Yo=()=>i==="edit"&&ga.every(({name:W})=>W!==x?.name),Qo=()=>{Yo()&&se("didEditFieldNameOnContentType")};return n.createElement(Xt.P,{onClose:ns,labelledBy:"title"},n.createElement(Dn,{actionType:i,attributeName:d,categoryName:m,contentTypeKind:b,dynamicZoneTarget:g,modalType:p,forTarget:f,targetUid:C,attributeType:l,customFieldUid:u}),es&&n.createElement(En,{attributes:jo,forTarget:f,kind:Ho||"collectionType"}),!es&&n.createElement("form",{onSubmit:ge},n.createElement(Pt.f,null,n.createElement(Dt.v,{label:"todo",id:"tabs",variant:"simple",ref:E,onTabChange:W=>{W===1&&No("advanced")}},n.createElement(U.k,{justifyContent:"space-between"},n.createElement(Ln,{actionType:i,forTarget:f,kind:b,step:v,modalType:p,attributeType:l,attributeName:d,customField:I}),n.createElement(Le.m,null,n.createElement(Le.O,{hasError:ko},B({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(Le.O,{hasError:Go,disabled:$o()},B({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(it.i,null),n.createElement(_.x,{paddingTop:6},n.createElement(Ie.n,null,n.createElement(Ie.x,null,n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(xa,{form:is,formErrors:Pe,genericInputProps:ss,modifiedData:x,onChange:ts}))),n.createElement(Ie.x,null,n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(xa,{form:os,formErrors:Pe,genericInputProps:ss,modifiedData:x,onChange:ts}))))))),n.createElement(Jt.m,{endActions:n.createElement(Zn,{deleteCategory:oa,deleteContentType:jt,deleteComponent:jt,categoryName:le.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:x.createComponent||!1,isCreatingComponentInDz:x.createComponent||!1,isCreatingComponentWhileAddingAField:Se,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:v==="1",onSubmitAddComponentAttribute:ge,onSubmitAddComponentToDz:ge,onSubmitCreateComponent:ge,onSubmitCreateContentType:ge,onSubmitCreateDz:ge,onSubmitEditAttribute:ge,onSubmitEditCategory:ge,onSubmitEditComponent:ge,onSubmitEditContentType:ge,onSubmitEditCustomFieldAttribute:ge,onSubmitEditDz:ge,onClickFinish:Qo}),startActions:n.createElement(k.z,{variant:"tertiary",onClick:ns},B({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},te=s(31947),so=s(54370);const oo=()=>e=>e[`${K.Z}_dataManagerProvider`]||so.E;var io=()=>(0,Ka.P1)(oo(),e=>e),ro=s(39935),lo=s.n(ro),co=s(9086),ja=s.n(co),uo=s(98978),mo=s.n(uo);const po=(e,a)=>{const o=Object.keys(e).filter(r=>{const i=T()(e,r,{}),d=T()(a,r,{}),l=T()(i,["isTemporary"],!1),u=!We()(i,d);return l||u});return(0,Ae.Z)(o)},go=(e,a)=>{const o=qa(T()(e,"schema.attributes",[]),a),r=T()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},ja()(e.schema,"attributes"),{attributes:o})},za=(e,a=!1)=>{const o=T()(e,"uid",null),r=qa(T()(e,"schema.attributes",[]),o),i=a?{category:T()(e,"category","")}:{},d=Object.assign(i,ja()(e.schema,"attributes"),{attributes:r});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},qa=(e,a)=>e.reduce((o,{name:r,...i})=>{const d=i,l=d.target===a,u=d.type==="relation",m=T()(d,"targetAttribute",null);if(!l)if(u){const g=Object.assign({},d,{targetAttribute:Va(m)});o[r]=$t(g)}else o[r]=$t(d);if(l){const g=d.target,f=Object.assign({},d,{target:g,targetAttribute:Va(m)});o[r]=$t(f)}if(d.customField){const g={...d,type:"customField"};o[r]=$t(g)}return o},{}),Va=e=>e==="-"?null:e,$t=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),fo=(e,a,o,r=!1)=>po(e,a).map(l=>{const u=T()(e,l,{});return go(u,o,r)}),yo=e=>mo()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${K.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>lo()(a.title));var ka=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Eo=(e,a,o,r)=>{const i=a.reduce((u,m)=>{const g=T()(o,m,{});return u[m]=g,u},{});return{[r?"contentType":"component"]:e,components:i}};const vo=e=>Object.keys(e).reduce((a,o)=>{const r=e[o].schema;return a[o]={...e[o],schema:{...r,attributes:ho(r.attributes)}},a},{}),ho=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]);var Ga=vo,Mo=s(13339);const bo=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=T()(e,[r],{}),d=i.uid;return To(i)&&o.push(d),o},[]);return(0,Ae.Z)(a)},To=e=>T()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"}),Co=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],d=Ro(i);return[...o,...d]},[]);return(0,Ae.Z)(a)},Ro=e=>e.reduce((a,o)=>{const{type:r,component:i}=o;return r==="component"&&a.push(i),a},[]);var Ha=Co,Zo=(e,a)=>{const o=Object.keys(e).map(r=>T()(e,[r,...a],""));return(0,Ae.Z)(o)};const Ya="did-not-kill-server",Oo="server is down";function Tt(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(Oo);if(!a)throw new Error(Ya);o(e)}).catch(r=>{setTimeout(()=>Tt(e,r.message!==Ya).then(o),100)})})}var Po=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);const sa=({children:e,components:a,contentTypes:o,isLoading:r,isLoadingForDataToBeSet:i,initialData:d,modifiedData:l,reservedNames:u})=>{const m=(0,Re.I0)(),g=(0,h.lm)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:p}=(0,h.Vu)(),{setCurrentStep:R}=(0,h.c1)(),{getPlugin:b}=(0,h.j1)(),{apis:v}=b(K.Z),{autoReload:C}=(0,h.L7)(),{formatMessage:I}=(0,S.Z)(),{trackUsage:E}=(0,h.rS)(),{refetchPermissions:Z}=(0,h.vn)(),{pathname:P}=(0,X.TH)(),{onCloseModal:$}=(0,Ce.Z)(),G=(0,X.$B)(`/plugins/${K.Z}/content-types/:uid`),ae=(0,X.$B)(`/plugins/${K.Z}/component-categories/:categoryUid/:componentUid`),se=(0,h.kY)(),{put:B,post:ve,del:H}=se,q=(0,n.useRef)();q.current=I;const Me=C,V=G!==null,Xe=V?"contentType":"component",ne=V?T()(G,"params.uid",null):T()(ae,"params.componentUid",null),j=(0,n.useRef)(),O=V?"content-types":"components";j.current=async()=>{try{const[{data:{data:A}},{data:{data:L}},{data:F}]=await Promise.all(["components","content-types","reserved-names"].map(be=>se.get(`/${K.Z}/${be}`))),Y=ka(A),ce=Ga(Y),ue=ka(L),pe=Ga(ue);m({type:te.Id,components:ce,contentTypes:pe,reservedNames:F})}catch(A){console.error({err:A}),g({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(j.current(),()=>{m({type:te.Zl})}),[]),(0,n.useEffect)(()=>{!r&&ne&&Oe()},[r,P,ne]),(0,n.useEffect)(()=>{C||g({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[C,g]);const Je=(A,L,F,Y=!1,ce,ue=!1)=>{const pe=Y?te.JO:te.gz;m({type:pe,attributeToSet:A,forTarget:L,targetUid:F,initialAttribute:ce,shouldAddComponentToData:ue})},Ct=({attributeToSet:A,forTarget:L,targetUid:F,initialAttribute:Y})=>{m({type:te.Ir,attributeToSet:A,forTarget:L,targetUid:F,initialAttribute:Y})},we=({attributeToSet:A,forTarget:L,targetUid:F,initialAttribute:Y})=>{m({type:te.Ly,attributeToSet:A,forTarget:L,targetUid:F,initialAttribute:Y})},oa=(A,L)=>{m({type:te.Uu,dynamicZoneTarget:A,componentsToAdd:L})},jt=(A,L,F,Y,ce=!1)=>{const ue=L==="contentType"?te.Sh:te.VR;m({type:ue,data:A,componentCategory:Y,schemaType:L,uid:F,shouldAddComponentToData:ce})},ia=(A,L)=>{m({type:te.o_,dynamicZoneTarget:A,newComponents:L})},ra=(A,L,F="")=>{const Y=A==="components"?te.lw:te.ai;A==="contentType"&&E("willDeleteFieldOfContentType"),m({type:Y,mainDataKey:A,attributeToRemoveName:L,componentUid:F})},la=async A=>{try{const L=`/${K.Z}/component-categories/${A}`,F=window.confirm(I({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));$(),F&&(f(),await H(L),await Tt(!0),await p(),await Se())}catch(L){console.error({err:L}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},oe=async()=>{try{const A=`/${K.Z}/${O}/${ne}`,L=T()(l,[Xe,"isTemporary"],!1),F=window.confirm(I({id:(0,c.Z)(`popUpWarning.bodyMessage.${V?"contentType":"component"}.delete`)}));if($(),F){if(L){m({type:te.Ap});return}f(),await H(A),await Tt(!0),await p(),await Se()}}catch(A){console.error({err:A}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},da=async(A,L)=>{try{const F=`/${K.Z}/component-categories/${A}`;$(),f(),await B(F,L),await Tt(!0),await p(),await Se()}catch(F){console.error({err:F}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},ca=()=>{const A=Object.assign({},a,l.components);if(!V){const F=T()(l,"component",{});Ot()(A,T()(F,["uid"],""),F)}const L=bo(A);return(0,Ae.Z)(L)},ua=()=>{const A=Ha(a),L=Ha(l.components||{});return(0,Ae.Z)([...L,...A])},ma=(A,L)=>{m({type:te.NG,dzName:A,componentToRemoveIndex:L})},Oe=()=>{const A=V?o:a,L=T()(A,ne,{schema:{attributes:[]}}),F=(0,Mo.Z)(L.schema.attributes,a),Y=Eo(L,F,a,V),ce=T()(L,"isTemporary",!1)&&Gt()(T()(L,"schema.attributes",[]))===0;m({type:te.xx,schemaToSet:Y,hasJustCreatedSchema:ce})},Rt=(0,n.useMemo)(()=>{const A=V?o:a;return ne==="create-content-type"?!1:!Object.keys(A).includes(ne)&&!r},[a,o,ne,V,r]),Pe=(0,n.useMemo)(()=>{const A=Object.keys(o).filter(L=>T()(o,[L,"schema","visible"],!0)).sort();return T()(A,"0","create-content-type")},[o]);if(Rt)return n.createElement(X.l_,{to:`/plugins/${K.Z}/content-types/${Pe}`});const le=async A=>{try{const L=T()(l,[Xe,"isTemporary"],!1),F={components:fo(l.components,a,ne,L)};if(V){const ue=v.forms.mutateContentTypeSchema({...za(l.contentType),...A},d.contentType);if(!Po(ue)){g({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}F.contentType=ue,E("willSaveContentType")}else F.component=za(l.component,!0),E("willSaveComponent");f();const Y=`/${K.Z}/${O}`,ce=L?Y:`${Y}/${ne}`;if(L?await ve(ce,F):await B(ce,F),await Tt(!0),await p(),L&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&R("contentTypeBuilder.success"),V){E("didSaveContentType");const ue=T()(F,["contentType","schema","name"],""),pe=T()(d,["contentType","schema","name"],"");!L&&ue!==pe&&E("didEditNameOfContentType")}else E("didSaveComponent");await Se()}catch(L){V||E("didNotSaveComponent"),console.error({err:L.response}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},Se=async()=>{await Z()},x=(A,L,F)=>{m({type:te.bi,data:A,schemaType:L,uid:F})};return n.createElement(Qt.Z.Provider,{value:{addAttribute:Je,addCustomFieldAttribute:Ct,addCreatedComponentToDynamicZone:oa,allComponentsCategories:Zo(a,["category"]),changeDynamicZoneComponents:ia,components:a,componentsGroupedByCategory:qt()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:ca(),contentTypes:o,createSchema:jt,deleteCategory:la,deleteData:oe,editCategory:da,editCustomFieldAttribute:we,isInDevelopmentMode:Me,initialData:d,isInContentTypeView:V,modifiedData:l,nestedComponents:ua(),removeAttribute:ra,removeComponentFromDynamicZone:ma,reservedNames:u,setModifiedData:Oe,sortedContentTypesList:yo(o),submitData:le,updateSchema:x}},i?n.createElement(h.dO,null):n.createElement(n.Fragment,null,e,Me&&n.createElement(ao,null)))};sa.defaultProps={components:{}},sa.propTypes={children:t().node.isRequired,components:t().object,contentTypes:t().object.isRequired,isLoading:t().bool.isRequired,isLoadingForDataToBeSet:t().bool.isRequired,initialData:t().object.isRequired,modifiedData:t().object.isRequired,reservedNames:t().object.isRequired};const Do=io(),Ao=(0,Re.$j)(Do,null);var Lo=(0,Yt.compose)(Ao)((0,n.memo)(sa)),Io=s(51216);const Qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Xa=({children:e})=>{const[a,o]=(0,n.useState)(Qa),{trackUsage:r}=(0,h.rS)(),i=({attributeType:E,customFieldUid:Z})=>{o(P=>({...P,actionType:"create",modalType:"customField",attributeType:E,customFieldUid:Z}))},d=({attributeType:E,step:Z})=>{a.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:E}),o(P=>({...P,actionType:"create",modalType:"attribute",step:Z,attributeType:E}))},l=({dynamicZoneTarget:E,targetUid:Z})=>{o(P=>({...P,dynamicZoneTarget:E,targetUid:Z,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:E,targetUid:Z})=>{o(P=>({...P,actionType:"create",forTarget:E,targetUid:Z,modalType:"chooseAttribute",isOpen:!0}))},m=E=>{o(Z=>({...Z,...E,isOpen:!0}))},g=E=>{o(Z=>({...Z,categoryName:E,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:E,targetUid:Z,attributeName:P,attributeType:$,customFieldUid:G})=>{o(ae=>({...ae,modalType:"customField",customFieldUid:G,actionType:"edit",forTarget:E,targetUid:Z,attributeName:P,attributeType:$,isOpen:!0}))},p=({forTarget:E,targetUid:Z,attributeName:P,attributeType:$,step:G})=>{o(ae=>({...ae,modalType:"attribute",actionType:"edit",forTarget:E,targetUid:Z,attributeName:P,attributeType:$,step:G,isOpen:!0}))},R=({modalType:E,forTarget:Z,targetUid:P,kind:$})=>{o(G=>({...G,modalType:E,actionType:"edit",forTarget:Z,targetUid:P,kind:$,isOpen:!0}))},b=()=>{o(Qa)},v=({forTarget:E,targetUid:Z})=>{o(P=>({...P,forTarget:E,targetUid:Z,modalType:"chooseAttribute"}))},C=()=>{o(E=>({...E,attributeType:"component",modalType:"attribute",step:"2"}))},I=({dynamicZoneTarget:E})=>{o(Z=>({...Z,dynamicZoneTarget:E,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(Io.Z.Provider,{value:{...a,onClickSelectField:d,onClickSelectCustomField:i,onCloseModal:b,onNavigateToChooseAttributeModal:v,onNavigateToAddCompoToDZModal:I,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:C,onOpenModalAddField:u,onOpenModalCreateSchema:m,onOpenModalEditCategory:g,onOpenModalEditField:p,onOpenModalEditCustomField:f,onOpenModalEditSchema:R,setFormModalNavigationState:o}},e)};Xa.propTypes={children:t().node.isRequired};var xo=Xa,So=s(3633);const Uo=(0,n.lazy)(()=>s.e(5905).then(s.bind(s,84015)));var Bo=()=>{const{url:e}=(0,X.$B)(),{categoryUid:a}=(0,X.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(h.dO,null)},n.createElement(X.rs,null,n.createElement(X.AW,{path:`${e}/:componentUid`},n.createElement(Uo,{categoryId:a}))))};const Ja=(0,n.lazy)(()=>s.e(5905).then(s.bind(s,84015)));var Fo=()=>{const{formatMessage:e}=(0,S.Z)(),a=e({id:`${K.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,h.c1)(),r=(0,n.useRef)(o);return(0,n.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),n.createElement(h.O4,{permissions:So.Z.main},n.createElement(Te.q,{title:a}),n.createElement(xo,null,n.createElement(Lo,null,n.createElement(ee.A,{sideNav:n.createElement(ot,null)},n.createElement(n.Suspense,{fallback:n.createElement(h.dO,null)},n.createElement(X.rs,null,n.createElement(X.AW,{path:`/plugins/${K.Z}/content-types/create-content-type`,component:Ja}),n.createElement(X.AW,{path:`/plugins/${K.Z}/content-types/:uid`,component:Ja}),n.createElement(X.AW,{path:`/plugins/${K.Z}/component-categories/:categoryUid`,component:Bo})))))))}},92318:function(Ue,w,s){var n=s(25158);const ee=h=>`${n.Z}.${h}`;w.Z=ee}}]);
